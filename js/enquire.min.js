!function(e,f,g){var h=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=g(h):"function"==typeof define&&define.amd?define(function(){return f[e]=g(h)}):f[e]=g(h)}("enquire",this,function(h){function i(f,g){var o,p=0,q=f.length;for(p;q>p&&(o=g(f[p],p),o!==!1);p++){}}function j(b){return"[object Array]"===Object.prototype.toString.apply(b)}function k(b){return"function"==typeof b}function l(b){this.options=b,!b.deferSetup&&this.setup()}function m(a,e){this.query=a,this.isUnconditional=e,this.handlers=[],this.mql=h(a);var f=this;this.listener=function(b){f.mql=b,f.assess()},this.mql.addListener(this.listener)}function n(){if(!h){throw new Error("matchMedia not present, legacy browsers require a polyfill")}this.queries={},this.browserIsIncapable=!h("only all").matches}return l.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(b){return this.options===b||this.options.match===b}},m.prototype={addHandler:function(c){var d=new l(c);this.handlers.push(d),this.matches()&&d.on()},removeHandler:function(b){var d=this.handlers;i(d,function(a,c){return a.equals(b)?(a.destroy(),!d.splice(c,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,function(b){b.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var b=this.matches()?"on":"off";i(this.handlers,function(a){a[b]()})}},n.prototype={register:function(b,c,d){var f=this.queries,o=d&&this.browserIsIncapable;return f[b]||(f[b]=new m(b,o)),k(c)&&(c={match:c}),j(c)||(c=[c]),i(c,function(a){k(a)&&(a={match:a}),f[b].addHandler(a)}),this},unregister:function(d,e){var f=this.queries[d];return f&&(e?f.removeHandler(e):(f.clear(),delete this.queries[d])),this}},new n});